#!/bin/sh
#vim: syntax=sh


if test ! -d "$BLOG_PATH"; then
  echo "need blog path exist"
  exit 1
fi

if test ! $1; then
  echo "need file name"
  exit 1
fi

set -eu

FILENAME=$BLOG_PATH/articles/$1.md

if test -f "$FILENAME"; then
  open "$FILENAME"
  exit 0
fi

echo "create $FILENAME"

echo "---" >> "$FILENAME"
echo "tags: プログラミング" >> "$FILENAME"
echo "license: all-rights-reserved" >> "$FILENAME"
echo "publishStatus: draft" >> "$FILENAME"
echo "published: true" >> "$FILENAME"
echo "---" >> "$FILENAME"

open "$FILENAME"
