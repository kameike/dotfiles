#!/bin/sh
#vim: syntax=sh

echo "this is test"

set -eu

if test ! -d "$BLOG_PATH"; then
  echo "need blog path exist"
  exit 1
fi

if test ! $1; then
  echo "need file name"
  exit 1
fi

FILENAME=$BLOG_PATH/$1.md

echo "create $FILENAME"

if test -f "$FILENAME"; then
  echo "file $FILENAME already exist"
  exit 1
fi

echo "---" >> "$FILENAME"
echo "tags: プログラミング" >> "$FILENAME"
echo "license: all-rights-reserved" >> "$FILENAME"
echo "publishStatus: draft" >> "$FILENAME"
echo "published: true" >> "$FILENAME"
echo "---" >> "$FILENAME"

open "$FILENAME"
